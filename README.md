## ExamSmith

ExamSmith は、国語の読解における論理的思考力を問う試験問題のプロンプトを簡単に生成できる、デスクトップ向け GUI アプリケーションです。記述式と多肢択一の両形式に対応し、字数制限や選択肢数などを指定して出題用プロンプトを即座に作成できます。

### 主な機能

- 記述式および多肢択一のプロンプト生成
- 難易度の選択、字数制限、選択肢数の指定
- 生成結果のその場表示と、ワンクリックでのクリップボードコピー
- Windows 用単一実行ファイルの提供（PyInstaller ビルド、アプリアイコン同梱）

### スクリーンショット

アプリ起動後、タイトル「試験問題作成」、難易度・問題形式・字数制限などの入力欄と、生成・クリア・コピーの各ボタンが表示されます。

---

## 動作要件

- Windows 10 以降
- Python 3.8 以上（ソースから実行する場合）

---

## 使い方（配布された EXE を利用）

1. `ExamSmith.exe` を実行します。
2. 画面で以下を設定します。
   - 難易度
   - 問題形式（記述式 / 多肢択一）
   - 字数制限（記述式時）
   - 選択肢数（多肢択一時）
   - 問題文
3. 「プロンプト生成」を押すと、下部に生成結果が表示されます。
4. 「プロンプトをコピー」でクリップボードへコピーできます。

タスクバーやウィンドウ左上のアイコンは `icon/examsmith.ico` が使用されます。ピン留めアイコンが更新されない場合は、いったんピン留めを外し再度ピン留めしてください。

---

## ソースからの実行方法（uv 利用）

uv を使って依存を解決し、直接起動します。

```bash
cd exam-smith
uv sync
uv run python gui.py
```

本プロジェクトは標準ライブラリのみで動作します。

---

## ビルド（EXE の作成）

PyInstaller を uv 経由で実行して、Windows 用 EXE を生成します。

```bash
cd exam-smith
uvx pyinstaller --clean --noconfirm exam-smith.spec
```

- 出力先: `dist/ExamSmith.exe`
- アプリアイコン: `icon/examsmith.ico`
- GUI 実行時のウィンドウ/タスクバーアイコンは `gui.py` 内で `iconbitmap` により設定されています。

ビルド仕様は `exam-smith.spec` に定義されています。`datas` に `.ico` を同梱する指定と、`EXE(..., icon=...)` により EXE 自体のアイコンを設定しています。

---

## プロジェクト構成

```
exam-smith/
  ├─ gui.py                # Tkinter GUI エントリポイント
  ├─ prompts.py            # プロンプト生成ロジック
  ├─ config.py             # UI 設定値（タイトル、デフォルト、制限など）
  ├─ validators.py         # 入力検証（数値など）
  ├─ exam-smith.spec       # PyInstaller ビルド設定（アイコン同梱含む）
  ├─ icon/
  │   └─ examsmith.ico     # アプリアイコン
  ├─ dist/                 # ビルド成果物（EXE）
  ├─ build/                # ビルド作業ディレクトリ（自動生成）
  ├─ pyproject.toml        # プロジェクトメタデータ
  └─ README.md
```

---

## 開発メモ

- コーディング規約: 可読性重視。関数や変数は意味の分かる命名を行う。
- 依存関係: 現状は標準ライブラリのみ。将来的に外部ライブラリを追加する場合は `pyproject.toml` に明記する。
- .gitignore: Python のベストプラクティスを適用済み。ビルド生成物やキャッシュは追跡しない。

---

## よくある質問

Q. アイコンが反映されない

A. 既にピン留めしたショートカットのキャッシュが残っている可能性があります。ピン留めを解除して再度ピン留め、または古い EXE を削除してから `dist/ExamSmith.exe` を起動してください。

Q. ビルド後に起動しない/白い画面になる

A. 必要な実行ファイルがブロックされる場合があります。Windows のスマートスクリーンやアンチウイルスの許可が必要なことがあります。管理者権限での実行や、別ディレクトリへの配置で改善することがあります。

Q. 多肢択一の選択肢数を変更したい

A. UI からスピンボックスで設定できます。範囲は `config.py` の `CHOICES_MIN` と `CHOICES_MAX` で調整可能です。

---


## ライセンス

本ソフトウェアは **MIT License** の下で公開されています。詳細はリポジトリ直下の `LICENSE` をご覧ください。


